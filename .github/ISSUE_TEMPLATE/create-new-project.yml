name: "ðŸ†• Create New Project"
description: "Template for creating a new project, including build and test validation steps for Copilot automation."
title: "NetEvolve.HealthChecks.[ProjectName]"
labels: ["project", "setup", "copilot"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        ## Create New HealthChecks Project

        Use this template to create a new health check project. Copilot will assist with validation of project creation, package restoration, build, and test execution.

  - type: input
    id: project-name
    attributes:
      label: "Project Name"
      description: "Enter the name of the new project (e.g., 'Redis', 'Memcached', 'CouchDB')"
      placeholder: "e.g., Redis"
    validations:
      required: true

  - type: input
    id: project-description
    attributes:
      label: "Project Description"
      description: "Briefly describe the purpose of this health check project"
      placeholder: "Health check for Redis server connectivity and operations"
    validations:
      required: true

  - type: dropdown
    id: testcontainer-needed
    attributes:
      label: "TestContainer Package Required?"
      description: "Does this project need a specific TestContainer package for integration tests?"
      options:
        - "No"
        - "Yes"
    validations:
      required: true

  - type: input
    id: testcontainer-package
    attributes:
      label: "TestContainer Package Name"
      description: "If yes above, specify the TestContainer package (e.g., 'Testcontainers.Redis')"
      placeholder: "e.g., Testcontainers.Redis"
    validations:
      required: false

  - type: textarea
    id: dependencies
    attributes:
      label: "Required NuGet Dependencies"
      description: "List any specific NuGet packages that need to be added (one per line)"
      placeholder: |
        StackExchange.Redis
        Microsoft.Extensions.Diagnostics.HealthChecks
    validations:
      required: false

  - type: checkboxes
    id: validation-steps
    attributes:
      label: "Validation Steps"
      description: "These steps will be performed by Copilot during project creation"
      options:
        - label: "Create project structure in `src/NetEvolve.HealthChecks.<ProjectName>/`"
          required: false
        - label: "Add project to solution (`dotnet sln HealthChecks.slnx add`)"
          required: false
        - label: "Add project reference to Test projects"
          required: false
        - label: "Add required NuGet packages to `Directory.Packages.props`"
          required: false
        - label: "Follow naming conventions from ADR decisions"
          required: false
        - label: "Create README.md based on other projects"
          required: false
        - label: "Create unit test folder in `tests/NetEvolve.HealthChecks.Tests.Unit/<ProjectName>/`"
          required: false
        - label: "Create integration test folder in `tests/NetEvolve.HealthChecks.Tests.Integration/<ProjectName>/`"
          required: false
        - label: "Add project reference to the solution file"
          required: false
        - label: "Add project reference to existing test projects"
          required: false
        - label: "Add TestContainer package if specified"
          required: false
        - label: "Restore NuGet packages (`dotnet restore HealthChecks.slnx`)"
          required: false
        - label: "Build the solution (`dotnet build HealthChecks.slnx --no-restore`)"
          required: false
        - label: "Run tests for the new project (`dotnet test HealthChecks.slnx --no-build`)"
          required: false
        - label: "Verify all tests pass successfully (>80% coverage recommended)"
          required: false
        - label: "Comment on issue with build/test results"
          required: false
        - label: "Create pull request linking to this issue"
          required: false

  - type: textarea
    id: additional-notes
    attributes:
      label: "Additional Notes"
      description: "Any special considerations, dependencies, or requirements for this project?"
      placeholder: "e.g., Requires Docker for integration tests, specific configuration settings, etc."
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        **Implementation Instructions for Copilot:**

        ### 1. Project Structure & Setup
        - Create project in: `src/NetEvolve.HealthChecks.<ProjectName>/`
        - Use `src/NetEvolve.HealthChecks.Redis/` as reference implementation template
        - Add project to solution: `dotnet sln HealthChecks.slnx add src/NetEvolve.HealthChecks.<ProjectName>/`
        - Add project reference to Abstractions: `dotnet add src/NetEvolve.HealthChecks.<ProjectName>/ reference src/NetEvolve.HealthChecks.Abstractions/`

        ### 2. Required Decisions & Guidelines
        - MUST follow ADR: `decisions/2025-07-10-folder-structure-and-naming-conventions.md`
        - MUST follow ADR: `decisions/2025-07-10-centralized-package-version-management.md`
        - MUST respect all instructions from `AGENTS.md`
        - Package versions MUST be added to `Directory.Packages.props` only

        ### 3. Implementation Requirements
        - Health check class MUST inherit from base classes in `NetEvolve.HealthChecks.Abstractions`
        - Configuration options MUST follow the pattern from reference projects
        - MUST implement both configuration-based and builder-based approaches
        - Default timeout SHOULD be 100 milliseconds unless otherwise specified

        ### 4. Test Structure (MANDATORY)
        - Unit tests MUST be created in: `tests/NetEvolve.HealthChecks.Tests.Unit/<ProjectName>/` as a subfolder
        - Integration tests MUST be created in: `tests/NetEvolve.HealthChecks.Tests.Integration/<ProjectName>/` as a subfolder
        - Test projects already exist - add project references to them:
          - `dotnet add tests/NetEvolve.HealthChecks.Tests.Unit/ reference src/NetEvolve.HealthChecks.<ProjectName>/`
          - `dotnet add tests/NetEvolve.HealthChecks.Tests.Integration/ reference src/NetEvolve.HealthChecks.<ProjectName>/`
        - Test coverage SHOULD be >80%
        - Use TestContainers for integration tests when specified

        ### 5. Documentation Requirements
        - Copy README.md structure from `src/NetEvolve.HealthChecks.Redis/README.md`
        - Update project-specific content (badges, descriptions, examples)
        - Include installation instructions, usage examples, and license information

        ### 6. Build & Validation Commands
        - Restore packages: `dotnet restore HealthChecks.slnx`
        - Build solution: `dotnet build HealthChecks.slnx --no-restore`
        - Run tests: `dotnet test HealthChecks.slnx --no-build`
        - All tests MUST pass before completion

        ### 7. Completion & Reporting
        - Comment on this issue with:
          - Build success/failure status
          - Test results summary
          - List of created files
          - Any warnings or issues encountered
        - Create a pull request linking to this issue
        - Mark all validation steps as complete
